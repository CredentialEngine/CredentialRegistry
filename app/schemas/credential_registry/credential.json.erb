{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "description": "CredentialRegistry Credential metadata",
  "type": "object",

  "definitions": {
    "ctdl": {
      "properties": {
        "@type": { "enum": ["ctdl:Credential"] },

        "ctdl:accreditedBy": {
          "description": "The credential being described is certified as meeting prescribed standards by the agent being referenced. [Organization | Person | QualityAssuranceAction]"
        },

        "ctdl:administrationProcess": {
          "description": "A profile of the process by which the resource being described, or aspects of it, are administered."
        },

        "ctdl:advancedStandingFor": {
          "description": "The credential being described provides advanced standing for the credential being referenced."
        },

        "ctdl:alternateName": {
          "description": "An alias for the item."
        },

        "ctdl:approvedBy": {
          "description": "Pronouncement of a favorable judgment by the agent being referenced. [CredentialOrganization | CredentialPerson]"
        },

        "ctdl:availabilityListing": {
          "description": "An external resource that lists online and/or physical locations for the described resource."
        },

        "ctdl:availableAt": {
          "description": "The location where the described resource is available."
        },

        "ctdl:availableOnlineAt": {
          "description": "The online location where the described resource is available."
        },

        "ctdl:codedNotation": {
          "description": "A short set of alpha-numeric symbols that uniquely identifies a resource and supports its discovery."
        },

        "ctdl:conferredBy": {
          "description": "The entity being described is conferred by the entity being referenced."
        },

        "ctdl:contributor": {
          "description": "A secondary contributor to the CreativeWork."
        },

        "ctdl:copyrightHolder": {
          "description": "The party holding the legal copyright to the CreativeWork."
        },

        "ctdl:creator": {
          "description": "The creator/author of the resource being described."
        },

        "ctdl:credentialId": {
          "description": "A globally unique identifier by which the creator/owner/provider of a credential recognizes the credential in transactions with the external environment (e.g., in verifiable claims involving the credential).",
          "type": "string"
        },

        "ctdl:credentialStatusType": {
          "description": "The status of the credential."
        },

        "ctdl:ctid": {
          "description": "A globally unique Credential Transparency Identifier (CTID) issued by the Credential Registry Service (CRS) by which the creator/owner/provider of a credential recognizes the credential in transactions with the external environment (e.g., in verifiable claims involving the credential).",
          "type": "string",
          "pattern": "^urn:ctid:.*"
        },

        "ctdl:dateEffective": {
          "description": "The effective date of the information.",
          "type": "string",
          "format": "date"
        },

        "ctdl:developmentProcess": {
          "description": "A profile of the process by which the entity being described, or aspects of it, were created. [ProcessProfile]"
        },

        "ctdl:earnings": {
          "description": "The entity being referenced is a profile of credential holder earnings data. [EarningsProfile]",
          "type": "array"
        },

        "ctdl:employmentOutcome": {
          "description": "A profile of jobs obtained with this credential by occupaion and industry for a given period and area. [EmploymentOutcomeProfile]",
          "type": "array"
        },

        "ctdl:endorsedBy": {
          "description": "The entity being described has the public support of the entity being referenced. [Organization | Profile | QualityAssuranceAction]"
        },

        "ctdl:estimatedCost": {
          "description": "The estimated cost of the described resource."
        },

        "ctdl:estimatedDuration": {
          "description": "The estimated time it will take to complete the described activity."
        },

        "ctdl:evaluatedBy": {
          "description": "The agent being referenced provides an evaluation or estimation of the ability or quality of the resource being described."
        },

        "ctdl:hasPart": {
          "description": "Indicates a resource that is (in some sense) a part of the resource being described."
        },

        "ctdl:holders": {
          "description": "A profile of the number and characteristics of credentialed individuals and their geographic locations. [HoldersProfile]",
          "type": "array"
        },

        "ctdl:industryType": {
          "description": "TThe class identifier for the industry context."
        },

        "ctdl:isPartOf": {
          "description": "Indicates a resource that the resource being described is (in some sense) part of."
        },

        "ctdl:jurisdiction": {
          "description": "The region to which the information in this profile is applicable. [JurisdictionProfile]",
          "type": "array"
        },

        "ctdl:keyword": {
          "description": "Key words or key phrases describing aspects of a resource considered useful for its discovery.",
          "type": "string"
        },

        "ctdl:latestVersion": {
          "description": "The lastest version of the credential being described. [Credential]"
        },

        "ctdl:maintenanceProcess": {
          "description": "The process by which the resource being described is maintained including review and updating. [ProcessProfile]"
        },

        "ctdl:maximumDuration": {
          "description": "The maximum amount of time it will take to complete the described resource."
        },

        "ctdl:monitoredBy": {
          "description": "The described resource is monitored by the referenced agent."
        },

        "ctdl:occupationType": {
          "description": "The relevant occupation."
        },

        "ctdl:offeredBy": {
          "description": "Access to the credential being described is offerred by the agent being referenced. [Organization | Person]"
        },

        "ctdl:owner": {
          "description": "The agent that is the current legal owner of the described resource."
        },

        "ctdl:previousVersion": {
          "description": "The version of the credential that immediately precedes the credential being described."
        },

        "ctdl:providesAdvancedStanding": {
          "description": "The credential being referenced provides advanced standing for the credential being described."
        },

        "ctdl:purposeType": {
          "description": "Types include, but are not limited to, general education, and job/career preparation."
        },

        "ctdl:recognizedBy": {
          "description": "The agent being referenced acknowledges the validity of the credential being described. [Organization | Person | QualityAssuranceAction]"
        },

        "ctdl:recommendedFor": {
          "description": "A profile that defines a set of resources for which the described credential provides preparation."
        },

        "ctdl:recommends": {
          "description": "Defines a set of items that will assist someone in earning the credential. [Credential | ConditionProfile]"
        },

        "ctdl:regulatedBy": {
          "description": "The agent being referenced enforces the legal requirements of the entity being referenced. [Organization | Person]"
        },

        "ctdl:relatedAction": {
          "description": "An action related to the entity. [QualityAssuranceAction]"
        },

        "ctdl:renewal": {
          "description": "A profile of what is needed to maintain a credential once obtained."
        },

        "ctdl:renewalBy": {
          "description": "The agent being referenced handles the renewal of the credential being described. [Organization | Person]"
        },

        "ctdl:requiredFor": {
          "description": "The credential being described is required for the resource being referenced."
        },

        "ctdl:requires": {
          "description": "Defines a set of requirements that completely qualify a person to attain the credential. [ConditionProfile]"
        },

        "ctdl:revocation": {
          "description": "A profile that described whether the credential can be revoked, and if so, what due process is in place. [RevocationProfile]"
        },

        "ctdl:revocationBy": {
          "description": "The agent being referenced handles the revocation of the credential from the credential holder due to violations. [Organization | Person | QualityAssuranceAction]"
        },

        "ctdl:selectionProcess": {
          "description": "A profile of the processes by which specific aspects of the described resource are handled."
        },

        "ctdl:updatedVersionBy": {
          "description": "The agent being referenced updates the version of the credential being described. [Organization | Person]"
        },

        "ctdl:validatedBy": {
          "description": "The agent being referenced validates the credential being described. [Organization | Person | QualityAssuranceAction]"
        },

        "ctdl:validationProcess": {
          "description": "A profile of the process by which the entity being described is validated. [ProcessProfile]"
        },

        "ctdl:verifiedBy": {
          "description": "The agent being referenced offers a service that verifies the owners of the credential being described. [Organization | Person]"
        },

        "ctdl:versionIdentifier": {
          "description": "An alphanumeric identifier of a version of the entity being described that is unique within the organizational context.",
          "type": "string"
        }
      },

      "required": [ "@type", "ctdl:ctid" ]
    },

    "dc": {
      "properties": {
        "dc:hasPart": {
          "description": "A related resource that is included either physically or logically in the described resource. [Credential]"
        },
        "dc:isPartOf": {
          "description": "A related resource in which the described resource is physically or logically included. [Credential]"
        }
      }
    },

    "utils": {
      "enumeration": {
        "properties": {
          "@type": { "enum": ["schema:Enumeration"] },
          "schema:name": { "type": "string" },
          "schema:url": { "type": "string" },
          "unknown:items": {
            "type": "array",
            "items": {
              "properties": {
                "@type": { "enum": ["unknown:EnumerationItem"] },
                "schema:name": { "type": "string" },
                "schema:url": { "type": "string" }
              }
            }
          }
        }
      }
    },

    "ctdl_credential_alignment_object": {
      "type": "object",
      "properties": {
        "@type": { "enum": ["ctdl:CredentialAlignmentObject"] },
        "ctdl:targetName": { "type": "string" },
        "ctdl:targetDescription": { "type": "string" },
        "ctdl:targetUrl": { "type": "string", "format": "uri" },
        "ctdl:educationalFramework": { "type": "string" },
        "ctdl:alignmentType": { "type": "string" }
      }
    },

    "ctdl_learning_opportunity_profile": {
      "type": "object",
      "properties": {
        "@type": { "enum": ["ctdl:LearningOpportunityProfile"] },
        "name": { "type": "string" },
        "url": { "type": "string", "format": "uri" },
        "ctdl:name": { "type": "string" },
        "ctdl:url": { "type": "string", "format": "uri" },
        "ctdl:educationalAlignment": {
          "type": "array",
          "items": { "$ref": "#definitions/ctdl_credential_alignment_object" }
        }
      }
    },

    "schemaorg_creative_work": <%= partial 'schemaorg/_creative_work', :schema %>
  },

  "allOf": [
    { "$ref": "<%= ref :json_ld %>" },
    { "$ref": "#/definitions/schemaorg_creative_work"},
    { "$ref": "#/definitions/ctdl" },
    { "$ref": "#/definitions/dc"}
  ]
}
