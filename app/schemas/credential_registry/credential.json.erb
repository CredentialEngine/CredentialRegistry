{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "description": "CredentialRegistry Credential metadata",
  "type": "object",

  "definitions": {
    "cti": {
      "properties": {
        "@type": { "enum": ["cti:Credential"] },

        "cti:accreditedBy": {
          "description": "The credential being described is certified as meeting prescribed standards by the agent being referenced. [Organization | Person | QualityAssuranceAction]"
        },

        "cti:approvedBy": {
          "description": "Pronouncement of a favorable judgment by the agent being referenced. [Organization | Person | QualityAssuranceAction]"
        },

        "cti:assessedBy": {
          "description": "The agent being referenced provides the assessment to earn the entity being described. [Organization | Person]"
        },

        "cti:conferredBy": {
          "description": "The entity being described is conferred by the entity being referenced. [Organization | Person | QualityAssuranceAction]"
        },

        "cti:credentialLevel": {
          "description": "The level of credential. [CredentialLevelType]",
          "type": "array",
          "items": { "type": "string" }
        },

        "cti:credentialType": {
          "description": "The type of credential. [CredentialType]",
          "type": "array",
          "items": { "type": "string" }
        },

        "cti:dateEffective": {
          "description": "The effective date of the information.",
          "type": "string",
          "format": "date"
        },

        "cti:developmentProcess": {
          "description": "A profile of the process by which the entity being described, or aspects of it, were created. [ProcessProfile]"
        },

        "cti:earnings": {
          "description": "The entity being referenced is a profile of credential holder earnings data. [EarningsProfile]",
          "type": "array"
        },

        "cti:employmentOutcome": {
          "description": "A profile of jobs obtained with this credential by occupaion and industry for a given period and area. [EmploymentOutcomeProfile]",
          "type": "array"
        },

        "cti:endorsedBy": {
          "description": "The entity being described has the public support of the entity being referenced. [Organization | Profile | QualityAssuranceAction]"
        },

        "cti:estimatedTimeToEarn": {
          "description": "Estimated time it will take a person to earn this credential. [DurationProfile]",
          "type": "array"
        },

        "cti:holders": {
          "description": "A profile of the number and characteristics of credentialed individuals and their geographic locations. [HoldersProfile]",
          "type": "array"
        },

        "cti:industryCategory": {
          "description": "The class identifier for the industry context. For example, NAICS (North American Classification System)",
          "type": "array",
          "items": { "$ref": "#/definitions/utils/enumeration" }
        },

        "cti:isRecommendedFor": {
          "description": "Defines a set of items that earning the credential will help prepare a person for. [ConditionProfile]",
          "type": "array",
          "items": { "$ref": "#definitions/cti_condition_profile" }
        },

        "cti:isRequiredFor": {
          "description": "Defines a set of items that the credential is a known requirement for. Does not necessarily define a valid or complete set of the requirements for the target credential. [ConditionProfile]",
          "type": "array",
          "items": { "$ref": "#definitions/cti_condition_profile" }

        },

        "cti:jurisdiction": {
          "description": "The region to which the information in this profile is applicable. [JurisdictionProfile]",
          "type": "array"
        },

        "cti:latestVersion": {
          "description": "The lastest version of the credential being described. [Credential]"
        },

        "cti:maintenanceProfile": {
          "description": "Profile of the process by which the entity being described is maintained including review and updating. [ProcessProfile]"
        },

        "cti:monitoredBy": {
          "description": "The agent being referenced monitors the entity being referenced. [Organization | Person]"
        },

        "cti:occupationCategory": {
          "description": "The relevant occupation. [OccupationType]",
          "type": "array",
          "items": { "$ref": "#/definitions/utils/enumeration" }
        },

        "cti:offeredBy": {
          "description": "Access to the credential being described is offerred by the agent being referenced. [Organization | Person]"
        },

        "cti:purpose": {
          "description": "The intended type of application of the credential by the holder.",
          "type": ["string", "array"]
        },

        "cti:recognizedBy": {
          "description": "The agent being referenced acknowledges the validity of the credential being described. [Organization | Person | QualityAssuranceAction]"
        },

        "cti:recommends": {
          "description": "Defines a set of items that will assist someone in earning the credential. [ConditionProfile]",
          "type": "array",
          "items": { "$ref": "#definitions/cti_condition_profile" }
        },

        "cti:regulatedBy": {
          "description": "The agent being referenced enforces the legal requirements of the entity being referenced. [Organization | Person]"
        },

        "cti:relatedAction": {
          "description": "An action related to the entity. [QualityAssuranceAction]"
        },

        "cti:removal": {
          "description": "A profile that described whether the credential can be revoked, and if so, what due process is in place. [ConditionProfile]",
          "type": "array",
          "items": { "$ref": "#definitions/cti_condition_profile" }
        },

        "cti:renewal": {
          "description": "A profile of what is needed to maintain a credential once obtained. [ConditionProfile]",
          "type": "array",
          "items": { "$ref": "#definitions/cti_condition_profile" }
        },

        "cti:renewalBy": {
          "description": "The agent being referenced handles the renewal of the credential being described. [Organization | Person]"
        },

        "cti:replacesVersion": {
          "description": "The version being described replaces the version being referenced. [Credential]"
        },

        "cti:requires": {
          "description": "Defines a set of requirements that completely qualify a person to attain the credential. [ConditionProfile]",
          "type": "array",
          "items": { "$ref": "#definitions/cti_condition_profile" }
        },

        "cti:revocation": {
          "description": "A profile that described whether the credential can be revoked, and if so, what due process is in place. [RevocationProfile]"
        },

        "cti:revocationBy": {
          "description": "The agent being referenced handles the revocation of the credential from the credential holder due to violations. [Organization | Person | QualityAssuranceAction]"
        },

        "cti:selectionProfile": {
          "description": "A profile of the process by which aspects of the entity being described were selected from existing options (as opposed to developed anew). [ProcessProfile]"
        },

        "cti:updatedVersionBy": {
          "description": "The agent being referenced updates the version of the credential being described. [Organization | Person]"
        },

        "cti:validatedBy": {
          "description": "The agent being referenced validates the credential being described. [Organization | Person | QualityAssuranceAction]"
        },

        "cti:validationProcess": {
          "description": "A profile of the process by which the entity being described is validated. [ProcessProfile]"
        },

        "cti:verifiedBy": {
          "description": "The agent being referenced offers a service that verifies the owners of the credential being described. [Organization | Person]"
        },

        "cti:versionIdentifier": {
          "description": "An alphanumeric identifier of a version of the entity being described that is unique within the organizational context.",
          "type": "string"
        }
      },

      "required": [ "@type" ]
    },

    "dc": {
      "properties": {
        "dc:hasPart": {
          "description": "A related resource that is included either physically or logically in the described resource. [Credential]"
        },
        "dc:isPartOf": {
          "description": "A related resource in which the described resource is physically or logically included. [Credential]"
        }
      }
    },

    "utils": {
      "enumeration": {
        "properties": {
          "@type": { "enum": ["schema:Enumeration"] },
          "schema:name": { "type": "string" },
          "schema:url": { "type": "string" },
          "unknown:items": {
            "type": "array",
            "items": {
              "properties": {
                "@type": { "enum": ["unknown:EnumerationItem"] },
                "schema:name": { "type": "string" },
                "schema:url": { "type": "string" }
              }
            }
          }
        }
      }
    },

    "cti_condition_profile": {
      "type": "object",
      "properties": {
        "@type": { "enum": ["cti:ConditionProfile"] },

        "cti:assertedBy": {
          "description": "The agent providing the information contained in the entity being described. [Organization | Person]"
        },

        "cti:applicableAudienceType": {
          "description": "The audience for which the described cost is available. [AudienceType]",
          "type": "array",
          "items": { "type": "string" }
        },

        "cti:credentialType": {
          "description": "The type of credential. [CredentialType]",
          "type": "array",
          "items": { "type": "string" }
        },

        "cti:dateEffective": {
          "description": "The effective date of the information.",
          "type": "string",
          "format": "date"
        },

        "cti:experience": {
          "description": "The amount and nature of work, experiential learning, or other relevant experience a person must have.",
          "type": "string"
        },

        "cti:jurisdiction": {
          "description": "The region to which the information in this profile is applicable. [JurisdictionProfile]",
          "type": "array"
        },

        "cti:minimumAge": {
          "description": "The minimum allowed age (in years) at which a person is eligible for the credential.",
          "type": "number"
        },

        "cti:profileOf": {
          "description": "The entity being described is a profile of the credential being referenced. [Credential]"
        },

        "cti:residentOf": {
          "description": "The place of which a person must be a legal resident or citizen in order to be eligible for the credential. [JurisdictionProfile]",
          "type": "array"
        },

        "cti:targetAssessment": {
          "description": "A profile of the assessment being referenced. [AssessmentProfile]",
          "type": "array",
          "items": { "$ref": "#definitions/cti_assessment_profile" }
        },

        "cti:targetCompetency": {
          "description": "An alignment to an competency assertion in an established framework. [AlignmentObject]",
          "type": "array"
        },

        "cti:targetCredential": {
          "description": "A credential required to attain this credential. [Credential]",
          "type": "array"
        },

        "cti:targetLearningOpportunity": {
          "description": "A profile of an educational or training program. [LearningOpportunityProfile]",
          "type": "array"
        },

        "cti:targetTask": {
          "description": "A task to be completed. [TaskProfile]",
          "type": "array"
        }

      }
    },

    "cti_assessment_profile": {
      "type": "object",
      "properties": {
        "@type": { "enum": ["cti:AssessmentProfile"] },
        "schema:name": { "type": "string" },
        "schema:description": { "type": "string" }
      }
    },

    "schemaorg_creative_work": <%= partial 'schemaorg/_creative_work', :schema %>
  },

  "allOf": [
    { "$ref": "<%= ref :json_ld %>" },
    { "$ref": "#/definitions/schemaorg_creative_work"},
    { "$ref": "#/definitions/cti" },
    { "$ref": "#/definitions/dc"}
  ]
}
