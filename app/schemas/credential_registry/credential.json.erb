{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "description": "CredentialRegistry Credential metadata",
  "type": "object",

  "definitions": {
    "cti": {
      "properties": {
        "@type": { "enum": ["cti:Credential"] },

        "cti:credentialLevel": {
          "description": "The level of credential. [CredentialLevelType]",
          "type": "array",
          "items": { "type": "string" }
        },

        "cti:credentialType": {
          "description": "The type of credential. [CredentialType]",
          "type": "array",
          "items": { "type": "string" }
        },

        "cti:dateEffective": {
          "description": "The effective date of the information.",
          "type": "string",
          "format": "date"
        },

        "cti:earnings": {
          "description": "The entity being referenced is a profile of credential holder earnings data. [EarningsProfile]",
          "type": "array"
        },

        "cti:employmentOutcome": {
          "description": "A profile of jobs obtained with this credential by occupaion and industry for a given period and area. [EmploymentOutcomeProfile]",
          "type": "array"
        },

        "cti:estimatedTimeToEarn": {
          "description": "Estimated time it will take a person to earn this credential. [DurationProfile]",
          "type": "array"
        },

        "cti:holders": {
          "description": "A profile of the number and characteristics of credentialed individuals and their geographic locations. [HoldersProfile]",
          "type": "array"
        },

        "cti:industryCategory": {
          "description": "The class identifier for the industry context. For example, NAICS (North American Classification System)",
          "type": "array",
          "items": { "$ref": "#/definitions/utils/enumeration" }
        },

        "cti:isRecommendedFor": {
          "description": "Defines a set of items that earning the credential will help prepare a person for. [ConditionProfile]",
          "type": "array"
        },

        "cti:isRequiredFor": {
          "description": "Defines a set of items that the credential is a known requirement for. Does not necessarily define a valid or complete set of the requirements for the target credential. [ConditionProfile]",
          "type": "array"
        },

        "cti:jurisdiction": {
          "description": "The region to which the information in this profile is applicable. [JurisdictionProfile]",
          "type": "array"
        },

        "cti:occupationCategory": {
          "description": "The relevant occupation. [OccupationType]",
          "type": "array",
          "items": { "$ref": "#/definitions/utils/enumeration" }
        },

        "cti:purpose": {
          "description": "The intended type of application of the credential by the holder.",
          "type": ["string", "array"]
        },

        "cti:recommends": {
          "description": "Defines a set of items that will assist someone in earning the credential. [ConditionProfile]",
          "type": "array"
        },

        "cti:removal": {
          "description": "A profile that described whether the credential can be revoked, and if so, what due process is in place. [ConditionProfile]",
          "type": "array"
        },

        "cti:renewal": {
          "description": "A profile of what is needed to maintain a credential once obtained. [ConditionProfile]",
          "type": "array"
        }
      },

      "required": [ "@type" ]
    },

    "utils": {
      "enumeration": {
        "type": "object",
        "properties": {
          "@type": { "enum": ["schema:Enumeration"] },
          "schema:name": { "type": "string" },
          "schema:url": { "type": "string" },
          "unknown:items": {
            "type": "array",
            "items": {
              "properties": {
                "@type": { "enum": ["unknown:EnumerationItem"] },
                "schema:name": { "type": "string" },
                "schema:url": { "type": "string" }
              }
            }
          }
        }
      }
    },

    "schemaorg_creative_work": <%= partial 'schemaorg/_creative_work', :schema %>
  },

  "allOf": [
    { "$ref": "<%= ref :json_ld %>" },
    { "$ref": "#/definitions/schemaorg_creative_work"},
    { "$ref": "#/definitions/cti" }
  ]
}
