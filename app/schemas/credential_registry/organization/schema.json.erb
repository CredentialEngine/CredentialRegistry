{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "description": "CredentialRegistry Organization metadata",
  "type": "object",

  "definitions": {
    "ctdl": {
      "properties": {
        "@type": { "enum": [ "ctdl:Organization" ] },

        "ctdl:accredits": {
          "description": "The agent being described certifies that the credential being referenced meets prescribed standards. [Credential | QualityAssuranceAction]"
        },

        "ctdl:agentCategory": {
          "description": "The type of the agent.",
          "type": "array",
          "items": {
            "anyOf": [
              {
                "enum": [
                  "Accrediting Organization",
                  "Adult Education Provider",
                  "Affiliated Institution",
                  "Certification Exam Provider",
                  "Certification Organization",
                  "Consortium",
                  "Credentialing Organization",
                  "Elementary Education Entity",
                  "Government Agency",
                  "Industry Trade Association",
                  "Labor or Trade Union",
                  "Local Education Agency",
                  "Middle School Education Organization",
                  "Military Branch/Department of Defense",
                  "Postsecondary Educational Institution (Private)",
                  "Postsecondary Educational Institution (Public)",
                  "Private Sector Employer",
                  "Product or Service Vendor",
                  "Professional Member Organization",
                  "Public Not For Profit Organization",
                  "Secondary (High School) Education Organization",
                  "Other (enter type)"
                ]
              },
              { "type": "string", "description": "User defined agentCategory" }
            ]
          }
        },
        "ctdl:agentProcess": {
          "description": "Details about processes related to the agent. [ProcessProfile]"
        },
        "ctdl:approves": {
          "description": "Favorably judges the entity being referenced. [QualityAssuranceAction | Credential| Organization | Person]"
        },
        "ctdl:authenticationService": {
          "type": "array",
          "minItems": 1,
          "uniqueItems": true,
          "items": { "type": "string" }
        },
        "ctdl:assesses": {
          "description": "The agent being described evaluates the entity being referenced. [Credential]"
        },
        "ctdl:authenticationService": {
          "description": "A profile of the available system to authenticate credential holders. [AuthenticationProfile]"
        },
        "ctdl:confers": {
          "description": "Confers the the credential being referenced to the people that earned it. [Credential | QualityAssuranceAction]"
        },
        "ctdl:creatorOf": {
          "description": "The organization created this competency framework. [Credential, CompetencyFramework]"
        },
        "ctdl:endorses": {
          "description": "Provides public support for the entity being referenced. [Credential | QualityAssuranceAction]"
        },
        "ctdl:identifier": {
          "description": "The source of the identifier and the unique identifier itself. For example: DUNS, FEIN, Federal School Code",
          "type": "string"
        },
        "ctdl:jurisdiction": {
          "description": "The region to which the information in this profile is applicable. See http://www.geonames.org/ for the valid vocabulary."
        },
        "ctdl:offersCredential": {
          "description": "Offers access to the entity being referenced. [Credential]"
        },
        "ctdl:opeid": {
          "description": "OPE ID number (Office of Postsecondary Education Identification) somtimes referred to as the Federal School Code.",
          "type": "string"
        },
        "ctdl:owns": {
          "description": "The agent being described owns the entity being referenced. [Credential]"
        },
        "ctdl:potentialAction": {
          "description": "A action related either to a previous action or to a credential. [QualityAssuranceAction]"
        },
        "ctdl:qualityAssurance": {
          "description": "A profile of systems credentialing organizations have in place to assure that all requirements, including assessments, are met in awarding credentials, that the credential is providing the intended value (e.g., labor market value) and that all information provided to the market (transparency) is accurate and reliable. [QualityAssuranceProfile]"
        },
        "ctdl:recognizes": {
          "description": "Acknowledges the validity of the entity being referenced. [Credential | QualityAssuranceAction]"
        },
        "ctdl:regulates": {
          "description": "Enforces the legal requirements of the entity being referenced. [Credential]"
        },
        "ctdl:renews": {
          "description": "Handles the renewal of the credential being referenced. [Credential | QualityAssuranceAction]"
        },
        "ctdl:revokes": {
          "description": "Handles the removal of the credential being referenced from the credential holder due to violations. [Credential | QualityAssuranceAction]"
        },
        "ctdl:trainingOffered": {
          "description": "A profile of a training opportunity offered by the agent. schema:AlignmentObject",
          "type": [ "array", "object" ]
        },
        "ctdl:updatesVersion": {
          "description": "Updates the version of the credential being referenced. [Credential]"
        },
        "ctdl:versioning": {
          "type": "string",
          "description": "Description of how change is managed and documented for all major credentialing system features. Includes, but is not limited to, versioning of competency requirements, assessment systems, costs and recordkeeping thereof."
        }
      },

      "required": [ "@type" ]
    },
    "schemaorg_organization": <%= partial 'schemaorg/_organization', :schema %>,

    "schemaorg_custom": {
      "properties": {
        "schema:serviceType": {
          "type": "array",
          "description": "The type of service offered by the organization. [ServiceType]",
          "items": {
            "anyOf": [
              {
                "enum": [
                  "Accreditation (QA)",
                  "Approval of Credentials (QA)",
                  "Confers Credentials (QA)",
                  "Creates standards ",
                  "Creator of Credentials",
                  "Determine Program/Course or Activity for Credentials",
                  "Determine Qualifications for Credentials",
                  "Determine Requirements for Credentials (QA)",
                  "Endorsement of Credentials (QA)",
                  "Licensure (QA)",
                  "Monitors Credentials",
                  "Offer Assessment or Exam for Credentials",
                  "Offer Credentials",
                  "Offer Education and/or Training and/or Professional Development Opportunities for Credential",
                  "Recognize (QA)",
                  "Regulate (QA)",
                  "Renews Credentials (QA)",
                  "Revokes Credentials (QA)",
                  "Statutory Authority (QA)",
                  "Validates Credentials (QA)",
                  "Verifies Credentials",
                  "Versioning of Credentials",
                  "Other (enter type)"
                ]
              },
              { "type": "string" }
            ]
          }
        }
      }
    }
  },

  "allOf": [
    { "$ref": "<%= ref :json_ld %>" },
    { "$ref": "#/definitions/schemaorg_organization"},
    { "$ref": "#/definitions/schemaorg_custom" },
    { "$ref": "#/definitions/ctdl" }
  ]
}
