{"swagger":"2.0","info":{"title":"MetadataRegistry API","description":"Documentation for the new API endpoints","version":"v1","contact":{"name":"Metadata Registry","email":"learningreg-dev@googlegroups.com","url":"https://github.com/learningtapestry/metadataregistry"},"license":{"name":"Apache License, Version 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"}},"host":"localhost:9292","consumes":["application/json"],"produces":["application/json"],"paths":{"/":{"get":{"operationId":"getApi","description":"Show the README rendered in HTML","produces":["text/html"],"responses":{"200":{"description":"shows the README rendered in HTML"}}}},"/api":{"get":{"operationId":"getApi","description":"API root","produces":["application/json"],"responses":{"200":{"description":"API root","schema":{"$ref":"#/definitions/ApiRoot"}}}}},"/api/info":{"get":{"operationId":"getApiInfo","description":"General info about this API node","produces":["application/json"],"responses":{"200":{"description":"General info about this API node","schema":{"$ref":"#/definitions/ApiInfo"}}}}},"/api/schemas/info":{"get":{"operationId":"getApiSchemasInfo","description":"General info about the json-schemas","produces":["application/json"],"responses":{"200":{"description":"General info about the json-schemas","schema":{"$ref":"#/definitions/SchemasInfo"}}}}},"/api/schemas/{schema_name}":{"get":{"operationId":"getApiSchema","description":"Get the corresponding json-schema","produces":["application/json"],"parameters":[{"name":"schema_name","in":"path","type":"string","required":true,"description":"Unique schema name"}],"responses":{"200":{"description":"Get the corresponding json-schema"}}}},"/api/{community_name}":{"get":{"operationId":"getApiCommunity","description":"Retrieve metadata community","produces":["application/json"],"parameters":[{"name":"community_name","in":"path","type":"string","required":true,"description":"Unique community name"}],"responses":{"200":{"description":"Retrieve metadata community","schema":{"$ref":"#/definitions/Community"}}}}},"/api/{community_name}/info":{"get":{"operationId":"getApiCommunityInfo","description":"General info about this metadata community","produces":["application/json"],"parameters":[{"name":"community_name","in":"path","type":"string","required":true,"description":"Unique community name"}],"responses":{"200":{"description":"General info about this metadata community","schema":{"$ref":"#/definitions/CommunityInfo"}}}}},"/api/{community_name}/envelopes":{"get":{"operationId":"getApiEnvelopes","description":"Retrieves all community envelopes ordered by date","produces":["application/json"],"parameters":[{"name":"community_name","in":"path","type":"string","required":true,"description":"Unique community name"},{"name":"page","in":"query","type":"integer","format":"int32","default":1,"required":false,"description":"Page number"},{"name":"per_page","in":"query","type":"integer","format":"int32","default":10,"required":false,"description":"Items per page"}],"responses":{"200":{"description":"Retrieves all envelopes ordered by date","schema":{"type":"array","items":{"$ref":"#/definitions/Envelope"}}}}}}},"definitions":{"ApiRoot":{"properties":{"api_version":{"type":"string","description":"API version number"},"total_envelopes":{"type":"integer","format":"int32","description":"Total count of metadata envelopes"},"metadata_communities":{"type":"object","description":"Object with community names and their API urls"},"info":{"type":"string","description":"URL for the API info"}}},"ApiInfo":{"properties":{"metadata_communities":{"type":"object","description":"Object with community names and their API urls"},"postman":{"type":"string","description":"URL for the postman collection"},"swagger":{"type":"string","description":"URL for the Swagger docs"},"readme":{"type":"string","description":"URL for the repo's README doc"},"docs":{"type":"string","description":"URL for the docs folder"}}},"SchemasInfo":{"properties":{"available_schemas":{"type":"array","description":"List of json-schema URLs available","items":{"type":"string","description":"json-schema URL"}},"specification":{"type":"string","description":"URL for the json-schema spec"}}},"Community":{"properties":{"id":{"type":"integer","format":"int32","description":"Community id"},"name":{"type":"string","description":"Community name"},"backup_item":{"type":"string","description":"Backup item name on Internet Archive"},"default":{"type":"boolean","description":"Wether this is the default Community or not"},"created_at":{"type":"string","format":"date-time","description":"When the version was created"},"updated_at":{"type":"string","format":"date-time","description":"When the version was updated"}}},"CommunityInfo":{"properties":{"total_envelopes":{"type":"integer","format":"int32","description":"Total count of envelopes for this community"},"backup_item":{"type":"string","description":"Internet Archive backup item identifier"}}},"Envelope":{"description":"Retrieves a specific envelope version","properties":{"envelope_id":{"type":"string","description":"Unique identifier (in UUID format)"},"envelope_type":{"type":"string","description":"Type (\"resource_data\" or \"paradata\")"},"envelope_version":{"type":"string","description":"Envelope version used"},"resource":{"type":"string","description":"Resource in its original encoded format"},"decoded_resource":{"type":"string","description":"Resource in decoded form"},"resource_format":{"type":"string","description":"Format of the submitted resource"},"resource_encoding":{"type":"string","description":"Encoding of the submitted resource"},"node_headers":{"description":"Additional headers added by the node","$ref":"#/definitions/NodeHeaders"}}},"NodeHeaders":{"properties":{"resource_digest":{"type":"string"},"versions":{"type":"array","items":{"$ref":"Version"},"description":"Versions belonging to the envelope"},"created_at":{"type":"string","format":"date-time","description":"Creation date"},"updated_at":{"type":"string","format":"date-time","description":"Last modification date"},"deleted_at":{"type":"string","format":"date-time","description":"Deletion date"}}},"Version":{"properties":{"head":{"type":"boolean","description":"Tells if it's the current version"},"event":{"type":"string","description":"What change caused the new version"},"created_at":{"type":"string","format":"date-time","description":"When the version was created"},"actor":{"type":"string","description":"Who performed the changes"},"url":{"type":"string","description":"Version URL"}}}}}